import{a as F}from"./chunk-C3PUWQV5.js";import{a as j}from"./chunk-5PIXQBFG.js";import{a as E,b as L}from"./chunk-ICJAHFYR.js";import{a as G}from"./chunk-DUBUWPD2.js";import"./chunk-PBA57O2B.js";import"./chunk-NPMQALXN.js";import"./chunk-DNPQSKTC.js";import{a as R}from"./chunk-OWCWUQTL.js";import{A as T,c as S,h as O,j as w,k as B}from"./chunk-TNPE2B44.js";import{$b as k,Aa as C,Ab as d,Eb as A,Ib as b,Jb as p,Pa as x,Rb as l,Sb as y,Tb as v,Va as s,Wa as c,Zb as I,ea as h,fc as u,gc as _,lb as M,na as g,oa as f,pb as m,ub as P,yb as o,zb as r}from"./chunk-MFMNMFCO.js";import"./chunk-DM275RSA.js";var D=a=>({"d-none":a});function z(a,V){if(a&1){let e=A();o(0,"div",15)(1,"div",16)(2,"p",17),l(3),r()(),o(4,"div",18),d(5,"p",19),u(6,"safeHtml"),r(),o(7,"div",20)(8,"p",21),l(9),u(10,"date"),r(),o(11,"p",21),l(12),u(13,"date"),r(),o(14,"button",22),b("click",function(n){g(e);let t=p();return f(t.addBookmark(t.Article.id,n))}),d(15,"i",23),r(),o(16,"button",24),b("click",function(n){g(e);let t=p();return f(t.removeBookmark(t.Article.bookmark[0].id,n))}),d(17,"i",25),r()()()}if(a&2){let e=p();s(3),y(e.Article.article_title),s(2),m("innerHTML",_(6,6,e.Article.article_text),x),s(4),v(" created: ",_(10,8,e.Article.created_at)," "),s(3),v(" updated: ",_(13,10,e.Article.updated_at)," "),s(2),m("ngClass",k(12,D,e.Article.is_end)),s(2),m("ngClass",k(14,D,!e.Article.is_end))}}var ie=(()=>{class a{constructor(e,i,n,t,H){this._GuidelineService=e,this._PLATFORM_ID=i,this._ActivatedRoute=n,this._BookmarkService=t,this._ToastrService=H}ngOnInit(){this.getAllGuidLines(),this.handleGetCurrentCategoryId()}handleGetCurrentCategoryId(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.ArticleId=e.get("id")}})}getUserId(){return B(this._PLATFORM_ID)&&localStorage.getItem("userId")||""}getAllGuidLines(){this._GuidelineService.getAllGuidelines(this.getUserId()).subscribe({next:e=>{this.Article=e.articles.find(i=>i.id==+this.ArticleId),console.log(this.Article),console.log(e)},error:e=>{console.log(e)}})}addBookmark(e,i){i.stopPropagation();let n={user_id:+this.getUserId(),protocol_id:e,bookmark_type:"guideline"};console.log(n),this._BookmarkService.addBookmark(n).subscribe({next:t=>{this.getAllGuidLines(),this._ToastrService.success("Bookmark added"),console.log(t)},error:t=>{console.log(t)}})}removeBookmark(e,i){i.stopPropagation();let n={user_id:+this.getUserId(),bookmark_id:e};this._BookmarkService.deleteBookmark(n).subscribe({next:t=>{console.log(t),this._ToastrService.success("Bookmark removed"),this.getAllGuidLines()},error:t=>{console.log(t)}})}getImage(e){return e===null?"./assets/blog/1.webp":`https://ehaapi.api/api/ehanative/articles/${e}`}static{this.\u0275fac=function(i){return new(i||a)(c(F),c(C),c(T),c(j),c(G))}}static{this.\u0275cmp=h({type:a,selectors:[["app-read-guideline"]],standalone:!0,features:[I],decls:22,vars:1,consts:[["id","guideline"],[1,"text-white","shadow"],[1,"bg-black","bg-opacity-50","h-100"],[1,"container-lg","container-fluid","d-flex","justify-content-start","align-items-center","h-100"],[1,"text-uppercase","fs-1"],[1,"fa-regular","fa-paper-plane","ms-3"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","'>'"],[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item"],[1,"fa-solid","fa-house","me-1"],["aria-current","page",1,"breadcrumb-item","text-white","text-opacity-50"],[1,"my-4"],[1,"container"],[1,"row"],[1,"col-12"],[1,"card","border-0","bg-light","shadow","position-relative"],[1,"card-title","p-3","pb-0","fs-4"],[1,"fw-semibold"],[1,"card-body","description"],[3,"innerHTML"],[1,"d-flex","justify-content-between","card-footer"],[1,"text-muted","fst-italic","mb-0",2,"font-size","12px"],["pTooltip","Add Bookmark","tooltipPosition","top",1,"w-45","position-absolute","top-0","end-0","m-3","btn","text-secondary",3,"click","ngClass"],[1,"fa-regular","fa-bookmark","fs-4"],["pTooltip","Remove Bookmark","tooltipPosition","top",1,"w-45","position-absolute","top-0","end-0","m-3","btn","text-secondary",3,"click","ngClass"],[1,"fa-solid","fa-bookmark","fs-4"]],template:function(i,n){i&1&&(o(0,"section",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div")(6,"h2",4),l(7," Protocols "),d(8,"i",5),r()(),o(9,"div")(10,"nav",6)(11,"ol",7)(12,"li",8),d(13,"i",9),l(14," Home "),r(),o(15,"li",10),l(16," Protocols "),r()()()()()()()(),o(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14),M(21,z,18,16,"div",15),r()()()()()),i&2&&(s(21),P(21,n.Article?21:-1))},dependencies:[L,E,O,w,S,R],styles:["#guideline[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{height:50vh;background-image:url(/assets/rev/4.webp);background-position:top center;background-size:cover;transform:translateY(10px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Animation 1s forwards}#guideline[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{transform:translate(-3000px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Content__Animation 1s forwards}#guideline[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{transform:translate(-3000px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Content__Animation 1s .3s forwards}@keyframes _ngcontent-%COMP%_Welcome__Animation{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_Welcome__Content__Animation{0%{transform:translate(-3000px);opacity:0}to{transform:translate(0);opacity:1}}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{color:#fff}.description[_ngcontent-%COMP%]    {font-style:normal!important;font-size:.875rem!important;text-align:start}.description[_ngcontent-%COMP%]     h1, .description[_ngcontent-%COMP%]     h2, .description[_ngcontent-%COMP%]     strong{font-size:16px!important;text-align:start!important}"]})}}return a})();export{ie as ReadGuidelineComponent};
