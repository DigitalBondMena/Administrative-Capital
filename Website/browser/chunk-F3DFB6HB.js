import{a as k}from"./chunk-XZIZCAXQ.js";import{c as h,e as p,g as y,h as x,i as P,j as V,l as I,n as R,o as T,w as M,x as N}from"./chunk-XW6HRBBI.js";import"./chunk-NPMQALXN.js";import{C as b,D as w,c as _,j as F,k as C}from"./chunk-TNPE2B44.js";import{$b as S,Aa as g,Ib as u,Rb as r,Va as n,Wa as m,Zb as E,ea as f,lb as v,pb as d,ub as s,yb as t,zb as i}from"./chunk-MFMNMFCO.js";import"./chunk-DM275RSA.js";var L=o=>({"is-invalid":o});function O(o,c){o&1&&(t(0,"p",11)(1,"small"),r(2,"email is required*"),i()())}function j(o,c){o&1&&(t(0,"p",11)(1,"small"),r(2,"please enter a valid email*"),i()())}function q(o,c){o&1&&(t(0,"p",11)(1,"small"),r(2,"this email doesn't exist*"),i()())}var Y=(()=>{class o{constructor(a,l,e){this._PrivacySettingsService=a,this._Router=l,this._PLATFORM_ID=e,this.startValidation=!1,this.isValidEmail=!1,this.userForm=new P({email:new V("",[p.required,p.email])})}onSendOtpClick(){this.startValidation=!0,this.userForm.valid&&this._PrivacySettingsService.resetUserCode(this.userForm.value).subscribe({next:a=>{console.log(a),a.success?(C(this._PLATFORM_ID)&&localStorage.setItem("email",JSON.stringify(this.userForm.value.email)),this._Router.navigate(["/login/otp"])):this.isValidEmail=!0},error:a=>{console.log(a)}})}get email(){return this.userForm.get("email")}static{this.\u0275fac=function(l){return new(l||o)(m(k),m(b),m(g))}}static{this.\u0275cmp=f({type:o,selectors:[["app-email-forget-password"]],standalone:!0,features:[E],decls:33,vars:7,consts:[[1,"p-3",3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"border-4","border-bottom"],[1,"row","g-3"],[1,"col-12"],[1,"d-flex","justify-content-between"],["for","userEmail",1,"form-label","fw-semibold","text-dark","text-opacity-75","mb-1"],[1,"text-danger"],[1,"text-danger","fst-italic","d-none","fw-bold"],["type","email","placeholder","name@example.com","name","userEmail","id","userEmail","autocomplete","email","formControlName","email",1,"form-control",3,"focus","ngClass"],[1,"fst-italic","fw-bold","text-dark","text-opacity-25"],[1,"text-danger","fst-italic","fw-bold"],[1,"text-center"],[1,"btn","btn-secondary","px-5","py-2"],["routerLink","/login",1,"btn"],[1,"text-primary"]],template:function(l,e){l&1&&(t(0,"form",0),u("ngSubmit",function(){return e.onSendOtpClick()}),t(1,"h3",1)(2,"span",2),r(3,"Reset password"),i()(),t(4,"div",3)(5,"div",4)(6,"div")(7,"div",5)(8,"label",6),r(9,"please enter your email address:"),t(10,"span",7),r(11,"*"),i()(),t(12,"small",8),r(13,"required*"),i(),t(14,"small",8),r(15,"not valid email*"),i()(),t(16,"input",9),u("focus",function(){return e.isValidEmail=!1,e.startValidation=!1}),i(),t(17,"small",10),r(18,"you will receive an email to reset your password"),i()()(),t(19,"div",4)(20,"div"),v(21,O,3,0,"p",11)(22,j,3,0,"p",11)(23,q,3,0,"p",11),i(),t(24,"div",12)(25,"button",13),r(26,"send email"),i()()()()(),t(27,"div")(28,"p")(29,"button",14),r(30,"Back to "),t(31,"span",15),r(32,"LogIn"),i()()()()),l&2&&(d("formGroup",e.userForm),n(16),d("ngClass",S(5,L,((e.email==null?null:e.email.getError("required"))||(e.email==null?null:e.email.getError("email")))&&e.startValidation||e.isValidEmail)),n(5),s(21,e.email!=null&&e.email.getError("required")&&e.startValidation?21:-1),n(),s(22,e.email!=null&&e.email.getError("email")&&e.startValidation?22:-1),n(),s(23,e.isValidEmail?23:-1))},dependencies:[N,I,h,y,x,R,T,M,F,_,w]})}}return o})();export{Y as EmailForgetPasswordComponent};
