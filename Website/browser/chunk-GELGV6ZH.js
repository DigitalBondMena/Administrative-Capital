import{a as g}from"./chunk-RH5UTBKV.js";import{C as m,m as f,w as c,x as l,y as p,z as u}from"./chunk-TNPE2B44.js";import{$ as r,H as s}from"./chunk-MFMNMFCO.js";var h=new f(()=>!1),t=0,o=!1,N=!1,S=null,k=(e,d)=>{let i=r(g),v=r(m);return N||(N=!0,v.events.subscribe(n=>{n instanceof c&&(o=!0,t=0,i.show(),S=setTimeout(()=>{console.warn("Navigation took too long, forcing spinner to hide."),o=!1,a(i)},5e3)),(n instanceof l||n instanceof p||n instanceof u)&&(clearTimeout(S),o=!1,a(i))})),e.context.get(h)||(t===0&&!o&&i.show(),t++),d(e).pipe(s(()=>{t--,a(i)}))};function a(e){setTimeout(()=>{t===0&&!o&&e.hide()},1e3)}export{h as a,k as b};
