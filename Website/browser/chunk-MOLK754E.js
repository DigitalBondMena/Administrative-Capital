import{a as R}from"./chunk-XZIZCAXQ.js";import"./chunk-KAZL3I5A.js";import{a as L,b as A}from"./chunk-RWZTZ3W7.js";import"./chunk-SFCJWZVZ.js";import"./chunk-VETFLQVH.js";import{e as l,g as T,h as E,i as I,j as h,l as V,n as k,o as D,x as N}from"./chunk-XW6HRBBI.js";import{a as M}from"./chunk-DUBUWPD2.js";import"./chunk-PBA57O2B.js";import"./chunk-NPMQALXN.js";import"./chunk-DNPQSKTC.js";import{D as y,c as _,j as F,k as b}from"./chunk-TNPE2B44.js";import{Aa as v,Ab as w,Ib as f,Rb as n,Va as a,Wa as c,Zb as g,ac as S,ea as p,lb as C,pb as d,ub as u,yb as o,zb as i}from"./chunk-MFMNMFCO.js";import"./chunk-DM275RSA.js";var q=(s,m)=>({"d-block":s,"d-none":m});function G(s,m){s&1&&(o(0,"div",7)(1,"small",13),n(2,"Password And Password Confirmation Required*"),i()())}function O(s,m){s&1&&(o(0,"div",7)(1,"small",13),n(2,"password minlength (8) characters*"),i()())}function x(s,m){s&1&&(o(0,"div",7)(1,"small",13),n(2,"Password And Password Confirmation Must Be Same*"),i()())}var U=(()=>{class s{constructor(r,t,e){this._PLATFORM_ID=r,this._PrivacySettingsService=t,this._ToastrService=e,this.startValidation=!1,this.isSuccess=!1,this.userPasswordForm=new I({password:new h("",[l.required,l.minLength(8)]),rePassword:new h("",[l.required,l.minLength(8)])},{validators:this.passwordMatchValidators})}ngOnInit(){}getUserId(){if(b(this._PLATFORM_ID))return localStorage.getItem("userId")||""}onSubmitUpdateUserPassword(){if(this.startValidation=!0,console.log(this.userPasswordForm),this.userPasswordForm.valid){let r={user_id:this.getUserId()||"",password:this.userPasswordForm.value.password||""};this._PrivacySettingsService.changePassword(r).subscribe({next:t=>{this.startValidation=!1,console.log(t),this.isSuccess=!0,this._ToastrService.success("Password Changed Successfully")},error:t=>{console.log(t)}})}}passwordMatchValidators(r){let t=r.get("password")?.value,e=r.get("rePassword")?.value;return console.log(t&&e&&t!==e),t&&e&&t!==e?{passwordMismatch:!0}:null}get password(){return this.userPasswordForm.get("password")}get rePassword(){return this.userPasswordForm.get("rePassword")}static{this.\u0275fac=function(t){return new(t||s)(c(v),c(R),c(M))}}static{this.\u0275cmp=p({type:s,selectors:[["app-change-password"]],standalone:!0,features:[g],decls:23,vars:14,consts:[[1,"p-3",3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"border-4","border-bottom"],[1,"row","g-3"],[1,"col-md-12"],["formControlName","password",1,"form-control","p-0",3,"onFocus","feedback","placeholder","toggleMask"],["formControlName","rePassword",1,"form-control","p-0",3,"onFocus","placeholder","feedback","toggleMask"],[1,"col-12"],[1,"text-success","fst-italic",3,"ngClass"],[1,"col-md-12","d-flex","justify-content-between","align-items-center","flex-column","flex-md-row","gap-2"],[1,"btn-main","btn","px-4","title__fonts","fw-bold","rounded-1","py-3","px-5","text-uppercase","fs-14"],["routerLink","/settings",1,"text-decoration-none"],[1,"pi-cog","pi","me-1"],[1,"fst-italic","fw-bold","text-danger"]],template:function(t,e){t&1&&(o(0,"form",0),f("ngSubmit",function(){return e.onSubmitUpdateUserPassword()}),o(1,"h3",1)(2,"span",2),n(3,"Change Password"),i()(),o(4,"div",3)(5,"div",4)(6,"div")(7,"p-password",5),f("onFocus",function(){return e.isSuccess=!1}),i()()(),o(8,"div",4)(9,"div")(10,"p-password",6),f("onFocus",function(){return e.isSuccess=!1}),i()()(),C(11,G,3,0,"div",7)(12,O,3,0,"div",7)(13,x,3,0,"div",7),o(14,"small",8),n(15,"Password Changed Successfully"),i(),o(16,"div",9)(17,"button",10),n(18," Change Password "),i(),o(19,"div")(20,"a",11),w(21,"i",12),n(22," account settings"),i()()()()()),t&2&&(d("formGroup",e.userPasswordForm),a(7),d("feedback",!1)("placeholder","Password")("toggleMask",!0),a(3),d("placeholder","Password Confirmation")("feedback",!1)("toggleMask",!0),a(),u(11,e.password!=null&&e.password.getError("required")&&e.startValidation||e.rePassword!=null&&e.rePassword.getError("required")&&e.startValidation?11:-1),a(),u(12,e.password!=null&&e.password.getError("minlength")&&e.startValidation||e.rePassword!=null&&e.rePassword.getError("minlength")&&e.startValidation?12:-1),a(),u(13,e.userPasswordForm.errors!=null&&e.userPasswordForm.errors.passwordMismatch&&e.startValidation?13:-1),a(),d("ngClass",S(11,q,e.isSuccess,!e.isSuccess)))},dependencies:[A,L,N,V,T,E,k,D,y,F,_],styles:["input,   .p-password{width:100%;height:100%}"]})}}return s})();var ie=(()=>{class s{static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=p({type:s,selectors:[["app-privacy-settings"]],standalone:!0,features:[g],decls:1,vars:0,template:function(t,e){t&1&&w(0,"app-change-password")},dependencies:[U]})}}return s})();export{ie as PrivacySettingsComponent};
