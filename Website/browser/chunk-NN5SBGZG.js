import{h as Q,i as X}from"./chunk-VVREEA4Z.js";import"./chunk-VETFLQVH.js";import{c as Y,g as H,k as $,w as q}from"./chunk-XW6HRBBI.js";import"./chunk-XPYXHHWI.js";import{a as ee}from"./chunk-CJOEUK37.js";import{a as Z}from"./chunk-3TY5RDHI.js";import{a as J,b as K}from"./chunk-ICJAHFYR.js";import{a as U}from"./chunk-DUBUWPD2.js";import"./chunk-PBA57O2B.js";import"./chunk-CEWKWK6U.js";import"./chunk-DNPQSKTC.js";import"./chunk-OWCWUQTL.js";import{D as N,c as j,h as W,i as D,j as R,k as z}from"./chunk-TNPE2B44.js";import{$b as f,Aa as G,Ab as g,Eb as P,Ib as x,Jb as p,Rb as s,Tb as k,Va as l,Vb as B,Wa as _,Wb as I,Xb as E,Zb as F,_b as L,ea as S,fc as m,gc as w,ha as y,hc as M,ic as V,lb as b,na as h,oa as C,pb as d,ub as v,vb as O,wb as A,xb as T,yb as r,zb as n}from"./chunk-MFMNMFCO.js";import"./chunk-DM275RSA.js";var te=(()=>{class t{transform(e,o){return e.filter(i=>i.article_title.toLocaleLowerCase().includes(o.toLocaleLowerCase()))}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275pipe=y({name:"searchGuideline",type:t,pure:!0,standalone:!0})}}return t})();var ie=t=>["/articles",t],ne=t=>({"d-none":t}),re=()=>[8,16,32];function ae(t,u){t&1&&(r(0,"div",21)(1,"div",23)(2,"h5",24),s(3," No protocols Found "),n()()())}function le(t,u){if(t&1){let e=P();r(0,"div",22)(1,"div",25)(2,"div",26)(3,"a",27)(4,"h5",28),s(5),n()(),r(6,"a",29),s(7,"read more +"),n()(),r(8,"div",30)(9,"p",31),s(10),m(11,"date"),n(),r(12,"p",31),s(13),m(14,"date"),n(),r(15,"button",32),x("click",function(i){let a=h(e).$implicit,c=p(2);return C(c.addBookmark(a.id,i))}),g(16,"i",33),n(),r(17,"button",34),x("click",function(i){let a=h(e).$implicit,c=p(2);return C(c.removeBookmark(a.bookmark[0].id,i))}),g(18,"i",35),n()()()()}if(t&2){let e=u.$implicit;l(3),d("routerLink",f(12,ie,e.id)),l(),d("title",e.article_title),l(),k(" ",e.article_title," "),l(),d("routerLink",f(14,ie,e.id)),l(4),k(" created: ",w(11,8,e.created_at)," "),l(3),k(" updated: ",w(14,10,e.updated_at)," "),l(2),d("ngClass",f(16,ne,e.is_end)),l(2),d("ngClass",f(18,ne,!e.is_end))}}function se(t,u){if(t&1&&(b(0,ae,4,0,"div",21),m(1,"searchGuideline"),r(2,"div",19),A(3,le,19,20,"div",22,O),m(5,"searchGuideline"),m(6,"slice"),n()),t&2){let e=p();v(0,M(1,1,e.AllGuidelines.articles,e.inputSearch).length==0?0:-1),l(3),T(V(6,7,M(5,4,e.AllGuidelines.articles,e.inputSearch),e.first,e.next))}}function ce(t,u){t&1&&(r(0,"div",21)(1,"div",23)(2,"h5",24),s(3," No protocols Found "),n()()())}function de(t,u){if(t&1){let e=P();r(0,"div",20)(1,"p-paginator",36),x("onPageChange",function(i){h(e);let a=p();return C(a.onPageChange(i))}),n()()}if(t&2){let e=p();l(),d("first",e.first)("rows",e.rows)("totalRecords",e.AllGuidelines.articles.length)("rowsPerPageOptions",L(4,re))}}var Be=(()=>{class t{constructor(e,o,i,a){this._GuidelineService=e,this._PLATFORM_ID=o,this._BookmarkService=i,this._ToastrService=a,this.inputSearch="",this.first=0,this.rows=10,this.next=10}ngOnInit(){this.getAllGuidLines()}getUserId(){return z(this._PLATFORM_ID)&&localStorage.getItem("userId")||""}getAllGuidLines(){this._GuidelineService.getAllGuidelines(this.getUserId()).subscribe({next:e=>{this.AllGuidelines=e,console.log("AllGuidelines",e)},error:e=>{console.log(e)}})}getImage(e){return e===null?"./assets/blog/1.webp":`https://digitalbondmena.com/ehanative/articles/${e}`}addBookmark(e,o){o.stopPropagation();let i={user_id:+this.getUserId(),protocol_id:e,bookmark_type:"guideline"};console.log(i),this._BookmarkService.addBookmark(i).subscribe({next:a=>{this.getAllGuidLines(),this._ToastrService.success("Bookmark added"),console.log(a)},error:a=>{console.log(a)}})}removeBookmark(e,o){o.stopPropagation();let i={user_id:+this.getUserId(),bookmark_id:e};this._BookmarkService.deleteBookmark(i).subscribe({next:a=>{console.log(a),this._ToastrService.success("Bookmark removed"),this.getAllGuidLines()},error:a=>{console.log(a)}})}onPageChange(e){this.first=e.first,this.rows=e.rows,e.first+e.rows<this.AllGuidelines.articles.length?(this.first=e.first,this.rows=e.rows,this.next=this.first+e.rows):this.next=this.AllGuidelines.articles.length}static{this.\u0275fac=function(o){return new(o||t)(_(ee),_(G),_(Z),_(U))}}static{this.\u0275cmp=S({type:t,selectors:[["app-guidelines"]],standalone:!0,features:[F],decls:30,vars:3,consts:[["id","guideline"],[1,"text-white","shadow"],[1,"bg-black","bg-opacity-50","h-100"],[1,"container-lg","container-fluid","d-flex","justify-content-start","align-items-center","h-100"],[1,"text-uppercase","fs-1"],[1,"fa-regular","fa-paper-plane","ms-3"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","'>'"],[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item"],[1,"fa-solid","fa-house","me-1"],["aria-current","page",1,"breadcrumb-item","text-white","text-opacity-50"],[1,"my-4"],[1,"container"],[1,"row","g-0"],[1,"col-12","shadow","w-100","mb-4","bg-secondary","p-5"],[1,"form-floating","mb-3"],["type","search","id","floatingInput","placeholder","search articles...",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingInput"],[1,"row","gap-3"],[1,"row","gy-4","gx-3"],[1,"flex","justify-content-center"],[1,"card","border-0","bg-light","shadow-sm","position-relative","card__animation"],[1,"col-12","col-md-6","col-lg-4"],[1,"card-title","p-3","pb-0"],[1,"fw-semibold","mb-1",2,"font-size","1.125rem","line-height","1.4"],[1,"card","border-0","bg-light","position-relative","overflow-hidden"],[1,"card-title","p-3"],[1,"text-dark","text-decoration-none",3,"routerLink"],[1,"mb-1",2,"font-size","1.125rem","line-height","1.4","display","-webkit-box","-webkit-line-clamp","2","-webkit-box-orient","vertical","overflow","hidden","text-overflow","ellipsis","padding-right","15px",3,"title"],[1,"text-main","font__titls",3,"routerLink"],[1,"d-flex","justify-content-between","card-footer"],[1,"text-muted","fst-italic","mb-0",2,"font-size","12px"],["pTooltip","Add Bp-element w-45 position-absolute top-0 end-25 m-3 btn text-secondaryookmark","tooltipPosition","top",1,"w-45","position-absolute","top-0","end-0","m-3","btn","text-secondary",3,"click","ngClass"],[1,"fa-regular","fa-bookmark","fs-4"],["pTooltip","Remove Bookmark","tooltipPosition","top",1,"w-45","position-absolute","top-0","end-0","m-3","btn","text-secondary",3,"click","ngClass"],[1,"fa-solid","fa-bookmark","fs-4"],[3,"onPageChange","first","rows","totalRecords","rowsPerPageOptions"]],template:function(o,i){o&1&&(r(0,"section",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div")(6,"h2",4),s(7," protocols "),g(8,"i",5),n()(),r(9,"div")(10,"nav",6)(11,"ol",7)(12,"li",8),g(13,"i",9),s(14," Home "),n(),r(15,"li",10),s(16," protocols "),n()()()()()()()(),r(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14)(21,"div",15)(22,"input",16),E("ngModelChange",function(c){return I(i.inputSearch,c)||(i.inputSearch=c),c}),n(),r(23,"label",17),s(24,"Search protocols"),n()()()(),r(25,"div")(26,"div",18),b(27,se,7,11,"div",19)(28,ce,4,0),n()(),b(29,de,2,5,"div",20),n()()()),o&2&&(l(22),B("ngModel",i.inputSearch),l(5),v(27,i.AllGuidelines?27:28),l(2),v(29,i.AllGuidelines?29:-1))},dependencies:[K,J,N,W,R,j,D,q,Y,H,$,te,X,Q],styles:["#guideline[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{height:50vh;background-image:url(/assets/rev/4.webp);background-position:top center;background-size:cover;transform:translateY(10px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Animation 1s forwards}#guideline[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{transform:translate(-3000px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Content__Animation 1s forwards}#guideline[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{transform:translate(-3000px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Content__Animation 1s .3s forwards}#guideline[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}#guideline[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:underline}@keyframes _ngcontent-%COMP%_Welcome__Animation{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_Welcome__Content__Animation{0%{transform:translate(-3000px);opacity:0}to{transform:translate(0);opacity:1}}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{color:#fff}.description[_ngcontent-%COMP%]    {font-style:normal!important;font-size:.875rem!important;text-align:start}.description[_ngcontent-%COMP%]     h1, .description[_ngcontent-%COMP%]     h2, .description[_ngcontent-%COMP%]     strong{font-size:16px!important;text-align:start}"]})}}return t})();export{Be as GuidelinesComponent};
