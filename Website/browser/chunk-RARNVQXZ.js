import{a as ae,b as se}from"./chunk-RWZTZ3W7.js";import{a as le}from"./chunk-JVV726LB.js";import{a as oe}from"./chunk-RXEJQ3SY.js";import"./chunk-VETFLQVH.js";import{b as G,c as Q,e as s,g as Z,h as J,i as K,j as u,l as X,n as ee,o as te,p as ne,q as ie,r as re,x as C}from"./chunk-XW6HRBBI.js";import{a as B}from"./chunk-DUBUWPD2.js";import"./chunk-PBA57O2B.js";import{a as $}from"./chunk-CEWKWK6U.js";import"./chunk-DNPQSKTC.js";import{C as H,D as Y,c as D,j as y,k as W,o as z}from"./chunk-TNPE2B44.js";import{$b as _,Aa as j,Ab as d,Eb as O,Ib as F,Jb as I,Nb as N,Ob as L,Pb as V,Qb as R,Rb as r,Sb as x,V as U,Va as a,Wa as b,Zb as S,_ as P,ea as v,lb as p,na as E,oa as k,pb as c,tb as M,ub as g,vb as q,wb as T,xb as A,yb as i,zb as t}from"./chunk-MFMNMFCO.js";import"./chunk-DM275RSA.js";function me(n){let o=n.get("password")?.value,l=n.get("rePassword")?.value;return o===l?null:{passwordMissMatch:!0}}var ue=(()=>{class n{constructor(l){this._HttpClient=l}signUp(l){return this._HttpClient.post(`${$}signup`,l)}static{this.\u0275fac=function(m){return new(m||n)(P(z))}}static{this.\u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _e=["successModal"],h=n=>({"is-invalid":n});function fe(n,o){n&1&&(i(0,"small",10),r(1,"required*"),t())}function he(n,o){n&1&&(i(0,"small",10),r(1,"min length 3 characters*"),t())}function be(n,o){n&1&&(i(0,"small",10),r(1,"accept only characters*"),t())}function ve(n,o){n&1&&(i(0,"small",10),r(1,"required*"),t())}function Se(n,o){n&1&&(i(0,"small",10),r(1,"not valid email*"),t())}function ye(n,o){n&1&&(i(0,"small",10),r(1,"The email has already been taken.*"),t())}function Ce(n,o){n&1&&(i(0,"small",10),r(1,"required*"),t())}function we(n,o){n&1&&(i(0,"small",10),r(1,"not valid phone*"),t())}function Ee(n,o){n&1&&(i(0,"small",10),r(1,"The phone has already been taken.*"),t())}function ke(n,o){n&1&&(i(0,"small",10),r(1,"required*"),t())}function Fe(n,o){n&1&&(i(0,"small",10),r(1,"not valid Jop Title*"),t())}function Ue(n,o){n&1&&(i(0,"small",10),r(1,"required*"),t())}function Pe(n,o){n&1&&(i(0,"small",10),r(1,"not valid address*"),t())}function je(n,o){n&1&&(i(0,"small",10),r(1,"required*"),t())}function Me(n,o){n&1&&(i(0,"small",10),r(1,"not valid Work Address*"),t())}function qe(n,o){n&1&&(i(0,"small",10),r(1,"required*"),t())}function Te(n,o){n&1&&(i(0,"small",10),r(1,"min length 8 characters*"),t())}function Ae(n,o){n&1&&(i(0,"small",10),r(1,"required*"),t())}function Oe(n,o){n&1&&(i(0,"small",10),r(1,"Password And Password Confirmation Not Match*"),t())}function Ie(n,o){n&1&&(i(0,"small",10),r(1,"required*"),t())}function Ne(n,o){if(n&1&&(i(0,"option",61),r(1),t()),n&2){let l=o.$implicit;c("value",l.id),a(),x(l.title)}}function Le(n,o){if(n&1&&T(0,Ne,2,2,"option",61,q),n&2){let l=I();A(l.community.subjects)}}function Ve(n,o){n&1&&(i(0,"small",36),r(1," You must accept the Privacy Policy. "),t())}var pe=(()=>{class n{constructor(l,m,e,f,w){this._PLATFORM_ID=l,this._Router=m,this._ToastrService=e,this._SignUpService=f,this._CommunityService=w,this.errorMessageArr=[],this.userFormSignUp=new K({name:new u("",[s.required,s.minLength(3),s.pattern(/^[a-zA-Z\s]+$/)]),email:new u("",[s.required,s.pattern(/[A-Za-z0-9._%+\-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}/)]),phone:new u("",[s.required,s.pattern(/^(?:\+20|0)?(10|11|12|15)\d{8}$/)]),job_title:new u("",[s.required,s.minLength(3)]),address:new u("",[s.required,s.minLength(3)]),user_full_work_address:new u("",[s.required,s.minLength(3)]),password:new u("",[s.required,s.minLength(8)]),rePassword:new u("",[s.required]),privacy_status:new u(!1,[s.required,s.pattern(/^(0|1)$/)]),device_token:new u("1",[s.required]),provider_id:new u("1",[s.required]),subject_id:new u("",[s.required]),subject_title:new u("",[s.required])},{validators:me})}get name(){return this.userFormSignUp.get("name")}get email(){return this.userFormSignUp.get("email")}get phone(){return this.userFormSignUp.get("phone")}get job_title(){return this.userFormSignUp.get("job_title")}get address(){return this.userFormSignUp.get("address")}get user_full_work_address(){return this.userFormSignUp.get("user_full_work_address")}get password(){return this.userFormSignUp.get("password")}get privacy_status(){return this.userFormSignUp.get("privacy_status")}get rePassword(){return this.userFormSignUp.get("rePassword")}get subject_id(){return this.userFormSignUp.get("subject_id")}ngOnInit(){this.isLoggedIn(),this.getCommunitySubject()}onPrivacyChange(l){l.target.checked&&this.userFormSignUp.get("privacy_status")?.setValue(1)}signUpUser(){if(this.userFormSignUp.markAllAsTouched(),this.subject_id){let l=this.community.subjects.find(m=>m.id==+this.userFormSignUp.value.subject_id);this.userFormSignUp.get("subject_title")?.setValue(l?.title)}console.log(this.privacy_status?.value),this.userFormSignUp.valid&&(console.log(this.userFormSignUp.value),this._SignUpService.signUp(this.userFormSignUp.value).subscribe({next:l=>{console.log(l),this.errorMessageArr=[],this.userFormSignUp.reset(),this._Router.navigate(["/login"]),this.successModalInstance.show()},error:l=>{console.log(l.error.errors),console.log(Object.values(l.error.errors)),this.errorMessageArr=Object.values(l.error.errors).flat(),Object.keys(l.error.errors).forEach(m=>{this.userFormSignUp.get(m)?.setErrors({already_been_taken:!0})})}}))}ngAfterViewInit(){this.successModalInstance=new bootstrap.Modal(this.successModal.nativeElement)}ngOnDestroy(){this.userFormSignUp.reset()}isLoggedIn(){W(this._PLATFORM_ID)&&localStorage.getItem("token")&&(this._ToastrService.show("you are logged in"),this._Router.navigate(["/"]))}getCommunitySubject(){this._CommunityService.getCommunitySubject().subscribe({next:l=>{this.community=l,console.log(l)}})}static{this.\u0275fac=function(m){return new(m||n)(b(j),b(H),b(B),b(ue),b(le))}}static{this.\u0275cmp=v({type:n,selectors:[["app-sign-up-form"]],viewQuery:function(m,e){if(m&1&&N(_e,5),m&2){let f;L(f=V())&&(e.successModal=f.first)}},standalone:!0,features:[S],decls:150,vars:45,consts:[["PrivacyPolicy",""],["successModal",""],[1,"p-3",3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"border-4","border-bottom"],[1,"row","g-3","justify-content-center"],[1,"col-12","col-md-6"],[1,"d-flex","justify-content-between"],["for","userName",1,"form-label","fw-semibold","text-dark","text-opacity-75","mb-1"],[1,"text-danger"],[1,"text-danger","fst-italic","fw-bold"],["type","text","name","userName","id","userName","autocomplete","name","formControlName","name",1,"form-control",3,"ngClass"],["for","userEmail",1,"form-label","fw-semibold","text-dark","text-opacity-75","mb-1"],["type","email","name","userEmail","id","userEmail","autocomplete","off","formControlName","email",1,"form-control",3,"ngClass"],["for","phone",1,"form-label","fw-semibold","text-dark","text-opacity-75","mb-1"],["type","tel","name","phone","id","phone","autocomplete","off","formControlName","phone",1,"form-control",3,"ngClass"],["for","job_title",1,"form-label","fw-semibold","text-dark","text-opacity-75","mb-1"],["type","text","name","job_title","id","job_title","autocomplete","off","formControlName","job_title",1,"form-control",3,"ngClass"],["for","address",1,"form-label","fw-semibold","text-dark","text-opacity-75","mb-1"],["type","text","name","address","id","address","autocomplete","off-level1","formControlName","address",1,"form-control",3,"ngClass"],["for","user_full_work_address",1,"form-label","fw-semibold","text-dark","text-opacity-75","mb-1"],["type","text","name","user_full_work_address","id","user_full_work_address","autocomplete","off-level2","formControlName","user_full_work_address",1,"form-control",3,"ngClass"],["for","userPassword",1,"form-label","fw-semibold","text-dark","text-opacity-75","mb-1"],["formControlName","password",1,"form-control","p-0",3,"ngClass","feedback","toggleMask"],[1,"d-flex","justify-content-between","flex-wrap"],["for","userRePassword",1,"form-label","fw-semibold","text-dark","text-opacity-75","mb-1"],["formControlName","rePassword",1,"form-control","p-0",3,"ngClass","feedback","toggleMask"],[1,"col-12"],["for","userSubject",1,"form-label","fw-semibold","text-dark","text-opacity-75","mb-1"],["formControlName","subject_id","name","userSubject","id","userSubject",1,"form-select"],["value","","disabled","","selected",""],[1,"col-12","mt-4","text-center"],[1,"form-check","d-flex","align-items-center","justify-content-center"],["type","checkbox","id","privacyPolicy","formControlName","privacy_status",1,"form-check-input","me-2",3,"change"],["for","privacyPolicy",1,"form-check-label","text-dark","text-opacity-75"],["href","#","data-bs-toggle","modal","data-bs-target","#privacyPolicyModal",1,"text-primary","text-decoration-none","fw-semibold"],[1,"text-danger","fst-italic","d-block","mt-1"],[1,"col-12","my-4"],[1,"text-center"],[1,"btn","btn-secondary","px-5","py-3"],["routerLink","/login",1,"btn"],[1,"text-primary"],["id","privacyPolicyModal","tabindex","-1","aria-labelledby","privacyPolicyModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","privacyPolicyModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"isSignUp"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","SuccessModal","tabindex","-1","aria-labelledby","successModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],["id","successModalLabel",1,"modal-title","text-success"],[1,"modal-body","text-center"],[1,"bi","bi-check-circle-fill","text-success","display-4"],[1,"my-3","d-block","mx-auto"],["width","150","src","./assets/app_logo.webp","alt","Spinner logo EHA",1,"object-fit-contain","bg-white"],[1,"mt-3","text-dark","fw-bold"],[1,"modal-footer","d-flex","justify-content-center"],[3,"value"]],template:function(m,e){if(m&1){let f=O();i(0,"form",2),F("ngSubmit",function(){return E(f),k(e.signUpUser())}),i(1,"h3",3)(2,"span",4),r(3,"Sign Up"),t()(),i(4,"div",5)(5,"div",6)(6,"div")(7,"div",7)(8,"label",8),r(9,"Name:"),i(10,"span",9),r(11,"*"),t()(),p(12,fe,2,0,"small",10)(13,he,2,0)(14,be,2,0),t(),d(15,"input",11),t()(),i(16,"div",6)(17,"div")(18,"div",7)(19,"label",12),r(20,"Email:"),i(21,"span",9),r(22,"*"),t()(),p(23,ve,2,0,"small",10)(24,Se,2,0)(25,ye,2,0),t(),d(26,"input",13),t()(),i(27,"div",6)(28,"div")(29,"div",7)(30,"label",14),r(31,"Phone:"),i(32,"span",9),r(33,"*"),t()(),p(34,Ce,2,0,"small",10)(35,we,2,0)(36,Ee,2,0),t(),d(37,"input",15),t()(),i(38,"div",6)(39,"div")(40,"div",7)(41,"label",16),r(42,"Jop Title:"),i(43,"span",9),r(44,"*"),t()(),p(45,ke,2,0,"small",10)(46,Fe,2,0),t(),d(47,"input",17),t()(),i(48,"div",6)(49,"div")(50,"div",7)(51,"label",18),r(52,"Address:"),i(53,"span",9),r(54,"*"),t()(),p(55,Ue,2,0,"small",10)(56,Pe,2,0),t(),d(57,"input",19),t()(),i(58,"div",6)(59,"div")(60,"div",7)(61,"label",20),r(62,"Work Address:"),i(63,"span",9),r(64,"*"),t()(),p(65,je,2,0,"small",10)(66,Me,2,0),t(),d(67,"input",21),t()(),i(68,"div",6)(69,"div")(70,"div",7)(71,"label",22),r(72,"Password:"),i(73,"span",9),r(74,"*"),t()(),p(75,qe,2,0,"small",10)(76,Te,2,0),t(),d(77,"p-password",23),t()(),i(78,"div",6)(79,"div")(80,"div",24)(81,"label",25),r(82,"Password Confirmation:"),i(83,"span",9),r(84,"*"),t()(),p(85,Ae,2,0,"small",10)(86,Oe,2,0),t(),d(87,"p-password",26),t()(),i(88,"div",27)(89,"div")(90,"div",7)(91,"label",28),r(92,"Specialty:"),i(93,"span",9),r(94,"*"),t()(),p(95,Ie,2,0,"small",10),t(),i(96,"select",29)(97,"option",30),r(98,"-- select --"),t(),p(99,Le,2,0),t()()(),i(100,"div",31)(101,"div",32)(102,"input",33,0),F("change",function(ce){return E(f),k(e.onPrivacyChange(ce))}),t(),i(104,"label",34),r(105," I agree to the "),i(106,"a",35),r(107," Privacy Policy "),t(),i(108,"span",9),r(109,"*"),t()()(),p(110,Ve,2,0,"small",36),t(),i(111,"div",37)(112,"div",38)(113,"button",39),r(114,"Sign Up"),t()()()()(),i(115,"div")(116,"p")(117,"button",40),r(118,"has an account? "),i(119,"span",41),r(120,"LogIn"),t()()()(),i(121,"div",42)(122,"div",43)(123,"div",44)(124,"div",45)(125,"h5",46),r(126,"Privacy Policy"),t(),d(127,"button",47),t(),i(128,"div",48),d(129,"app-privacy-policy",49),t(),i(130,"div",50)(131,"button",51),r(132,"Close"),t()()()()(),i(133,"div",52,1)(135,"div",53)(136,"div",44)(137,"div",45)(138,"h5",54),r(139,"Registration Successful"),t(),d(140,"button",47),t(),i(141,"div",55),d(142,"i",56),i(143,"div",57),d(144,"img",58),t(),i(145,"h4",59),r(146,"We Will Check Your information And Activate The Account Soon!"),t()(),i(147,"div",60)(148,"button",51),r(149,"Close"),t()()()()()}if(m&2){let f=R(103);c("formGroup",e.userFormSignUp),a(12),g(12,e.name!=null&&e.name.getError("required")&&(e.name!=null&&e.name.touched)?12:e.name!=null&&e.name.getError("minlength")&&(e.name!=null&&e.name.touched)?13:e.name!=null&&e.name.getError("pattern")&&(e.name!=null&&e.name.touched)?14:-1),a(3),c("ngClass",_(27,h,((e.name==null?null:e.name.getError("required"))||(e.name==null?null:e.name.getError("minlength"))||(e.name==null?null:e.name.getError("pattern")))&&(e.name==null?null:e.name.touched))),a(8),g(23,e.email!=null&&e.email.getError("required")&&(e.email!=null&&e.email.touched)?23:e.email!=null&&e.email.getError("pattern")&&(e.email!=null&&e.email.touched)?24:e.email!=null&&e.email.getError("already_been_taken")&&(e.email!=null&&e.email.touched)?25:-1),a(3),c("ngClass",_(29,h,((e.email==null?null:e.email.getError("required"))||(e.email==null?null:e.email.getError("pattern"))||(e.email==null?null:e.email.getError("already_been_taken")))&&(e.email==null?null:e.email.touched))),a(8),g(34,e.phone!=null&&e.phone.getError("required")&&(e.phone!=null&&e.phone.touched)?34:e.phone!=null&&e.phone.getError("pattern")&&(e.phone!=null&&e.phone.touched)?35:e.phone!=null&&e.phone.getError("already_been_taken")&&(e.phone!=null&&e.phone.touched)?36:-1),a(3),c("ngClass",_(31,h,((e.phone==null?null:e.phone.getError("required"))||(e.phone==null?null:e.phone.getError("pattern"))||(e.phone==null?null:e.phone.getError("already_been_taken")))&&(e.phone==null?null:e.phone.touched))),a(8),g(45,e.job_title!=null&&e.job_title.getError("required")&&(e.job_title!=null&&e.job_title.touched)?45:e.job_title!=null&&e.job_title.getError("minlength")&&(e.job_title!=null&&e.job_title.touched)?46:-1),a(2),c("ngClass",_(33,h,((e.job_title==null?null:e.job_title.getError("required"))||(e.job_title==null?null:e.job_title.getError("minlength")))&&(e.job_title==null?null:e.job_title.touched))),a(8),g(55,e.address!=null&&e.address.getError("required")&&(e.address!=null&&e.address.touched)?55:e.address!=null&&e.address.getError("minlength")&&(e.address!=null&&e.address.touched)?56:-1),a(2),c("ngClass",_(35,h,((e.address==null?null:e.address.getError("required"))||(e.address==null?null:e.address.getError("minlength")))&&(e.address==null?null:e.address.touched))),a(8),g(65,e.user_full_work_address!=null&&e.user_full_work_address.getError("required")&&(e.user_full_work_address!=null&&e.user_full_work_address.touched)?65:e.user_full_work_address!=null&&e.user_full_work_address.getError("minlength")&&(e.user_full_work_address!=null&&e.user_full_work_address.touched)?66:-1),a(2),c("ngClass",_(37,h,((e.user_full_work_address==null?null:e.user_full_work_address.getError("required"))||(e.user_full_work_address==null?null:e.user_full_work_address.getError("minlength")))&&(e.user_full_work_address==null?null:e.user_full_work_address.touched))),a(8),g(75,e.password!=null&&e.password.getError("required")&&(e.password!=null&&e.password.touched)?75:e.password!=null&&e.password.getError("minlength")&&(e.password!=null&&e.password.touched)?76:-1),a(2),c("ngClass",_(39,h,((e.password==null?null:e.password.getError("required"))||(e.password==null?null:e.password.getError("minlength")))&&(e.password==null?null:e.password.touched)))("feedback",!1)("toggleMask",!0),a(8),g(85,e.rePassword!=null&&e.rePassword.getError("required")&&(e.rePassword!=null&&e.rePassword.touched)?85:e.userFormSignUp.hasError("passwordMissMatch")&&(e.rePassword!=null&&e.rePassword.touched)?86:-1),a(2),c("ngClass",_(41,h,((e.rePassword==null?null:e.rePassword.getError("required"))||e.userFormSignUp.hasError("passwordMissMatch"))&&(e.rePassword==null?null:e.rePassword.touched)))("feedback",!1)("toggleMask",!0),a(8),g(95,e.subject_id!=null&&e.subject_id.getError("required")&&(e.subject_id!=null&&e.subject_id.touched)?95:-1),a(),M(_(43,h,(e.subject_id==null?null:e.subject_id.getError("required"))&&(e.subject_id==null?null:e.subject_id.touched))),a(3),g(99,e.community?99:-1),a(11),g(110,f.checked===!1&&(e.privacy_status!=null&&e.privacy_status.touched)?110:-1),a(19),c("isSignUp",!0)}},dependencies:[C,X,ie,re,Q,G,ne,Z,J,ee,te,y,D,Y,oe,se,ae],styles:[".form-check-input[_ngcontent-%COMP%]:checked{background-color:#0d6efd!important}"]})}}return n})();var st=(()=>{class n{static{this.\u0275fac=function(m){return new(m||n)}}static{this.\u0275cmp=v({type:n,selectors:[["app-sign-up"]],standalone:!0,features:[S],decls:22,vars:0,consts:[[1,"text-white","shadow"],[1,"bg-black","bg-opacity-50","h-100"],[1,"container-lg","container-fluid","d-flex","justify-content-start","align-items-center","h-100"],[1,"text-uppercase","fs-1"],[1,"fa-regular","fa-paper-plane","ms-3"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider","'>'"],[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item"],[1,"fa-solid","fa-house","me-1"],["aria-current","page",1,"breadcrumb-item","text-white","text-opacity-50"],[1,"container-lg","container-fluid","p-4","p-md-0","py-5","my-5"],[1,"row","shadow","my-5","rounded-1"],[1,"col-12","p-2","p-md-5"]],template:function(m,e){m&1&&(i(0,"main")(1,"section")(2,"header",0)(3,"div",1)(4,"div",2)(5,"div")(6,"div")(7,"h2",3),r(8,"Sign Up "),d(9,"i",4),t()(),i(10,"div")(11,"nav",5)(12,"ol",6)(13,"li",7),d(14,"i",8),r(15," Home"),t(),i(16,"li",9),r(17,"sign up"),t()()()()()()()(),i(18,"div",10)(19,"div",11)(20,"div",12),d(21,"app-sign-up-form"),t()()()()())},dependencies:[C,y,pe],styles:["header[_ngcontent-%COMP%]{height:50vh;background-image:url(/assets/rev/2-61-1.webp);background-position:top center;background-size:cover;transform:translateY(10px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Animation 1s forwards}header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{transform:translate(-3000px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Content__Animation 1s forwards}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{transform:translate(-3000px);opacity:0;animation:_ngcontent-%COMP%_Welcome__Content__Animation 1s .3s forwards}@keyframes _ngcontent-%COMP%_Welcome__Animation{0%{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_Welcome__Content__Animation{0%{transform:translate(-3000px);opacity:0}to{transform:translate(0);opacity:1}}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{color:#fff}main[_ngcontent-%COMP%]{padding-top:100px}@media screen and (max-width: 992px){main[_ngcontent-%COMP%]{padding-top:120px}}input[_ngcontent-%COMP%],   .p-password{min-width:100%!important;height:60px!important}"]})}}return n})();export{st as SignUpComponent};
